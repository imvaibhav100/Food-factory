<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - FoodFactory</title>
    <link rel="icon" type="image/x-icon" href="./Images/logo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/responsive.css}">
    <link rel="stylesheet" th:href="@{/css/products.css}">
</head>

<body>
    <!-- Navbar for Logged-in Users (matches Home) -->
    <nav th:if="${isLoggedIn}" class="navbar navbar-logged-in">
        <div class="navbar-logo">
            <i class="fas fa-utensils"></i>
            <span>FoodFactory</span>
        </div>
        <ul class="navbar-menu">
            <li><a href="/user/home"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="/user/dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="/user/location"><i class="fas fa-map-marker-alt"></i> Locate Us</a></li>
            <li><a href="/user/about"><i class="fas fa-info-circle"></i> About</a></li>
        </ul>
        <div class="navbar-user-menu">
            <span class="navbar-user-info">
                <i class="fas fa-user-circle"></i> <span th:text="${name}">User</span>
            </span>
            <a href="/user/logout" class="navbar-logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
    </nav>

    <!-- Navbar for Guests (matches Home) -->
    <nav th:unless="${isLoggedIn}" class="navbar">
        <div class="navbar-logo">
            <i class="fas fa-utensils"></i>
            <span>FoodFactory</span>
        </div>
        <ul class="navbar-menu">
            <li><a href="/home"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="/products"><i class="fas fa-utensils"></i> Products</a></li>
            <li><a href="/location"><i class="fas fa-map-marker-alt"></i> Locate Us</a></li>
            <li><a href="/about"><i class="fas fa-info-circle"></i> About</a></li>
            <li><a href="/login"><i class="fas fa-sign-in-alt"></i> Log In</a></li>
        </ul>

        <button class="hamburger" onclick="toggleMenu()">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <div class="mobile-menu" id="mobileMenu">
            <a href="/home"><i class="fas fa-home"></i> Home</a>
            <a href="/products"><i class="fas fa-utensils"></i> Products</a>
            <a href="/location"><i class="fas fa-map-marker-alt"></i> Locate Us</a>
            <a href="/about"><i class="fas fa-info-circle"></i> About</a>
            <a href="/login"><i class="fas fa-sign-in-alt"></i> Log In</a>
        </div>
    </nav>

    <main class="page-shell">
        <section class="products-hero">
            <div class="hero-copy">
                <div class="eyebrow">Pure Veg · Chef Crafted</div>
                <h1>Discover bold vegetarian flavors</h1>
                <p class="lede">Paneer signatures, wok-tossed Chinese, and North Indian staples—finished with fresh herbs and zero compromise on purity.</p>
                <div class="hero-tags">
                    <span class="pill"><i class="fas fa-truck"></i> Express delivery</span>
                    <span class="pill"><i class="fas fa-seedling"></i> Farm-fresh produce</span>
                    <span class="pill"><i class="fas fa-leaf"></i> 100% veg kitchen</span>
                </div>
            </div>
            <div class="hero-card">
                <div class="card-head">
                    <span class="badge">This week’s pick</span>
                    <span class="stamp">Chef’s special</span>
                </div>
                <h3>Smoked Paneer Tikka</h3>
                <p>Charred over live flames, brushed with hung-curd marinade, finished with mint chimichurri.</p>
                <div class="hero-meta">
                    <span><i class="fas fa-fire"></i> Live tandoor</span>
                    <span><i class="fas fa-clock"></i> 18 min avg</span>
                    <span><i class="fas fa-star"></i> 4.9 rated</span>
                </div>
                <a th:href="${isLoggedIn} ? '/user/products' : '/login'" class="btn primary">Order now</a>
            </div>
        </section>

        

        <section class="products-section" th:if="${products != null and !#lists.isEmpty(products)}">
            <div class="section-head">
                <h2>Menu highlights</h2>
                <p>Fresh batches, clean ingredients, and rapid-fire execution.</p>
            </div>
            <div class="products-grid">
                <article class="product-card" th:each="product : ${products}">
                    <div class="card-top">
                        <span class="pill soft"><i class="fas fa-seedling"></i> Pure veg</span>
                        <span class="rating"><i class="fas fa-star"></i> 4.8</span>
                    </div>
                    <div class="image-wrap">
                        <img th:src="${product.imageUrl}" alt="Product"
                            onerror="this.onerror=null; this.style.background='linear-gradient(135deg, rgba(255, 107, 53, 0.25), rgba(46, 196, 182, 0.25))'; this.alt='Image not available';">
                    </div>
                    <div class="product-body">
                        <h3 th:text="${product.pname}">Product Name</h3>
                        <p class="description" th:text="${product.pdescription}">Description</p>
                        <div class="price-row">
                            <span class="price">₹<span th:text="${product.pprice}">0</span></span>
                            <a href="#" class="buy-btn"><i class="fas fa-shopping-cart"></i> Add</a>
                        </div>
                    </div>
                </article>
            </div>
        </section>

      +  <section class="products-section" th:if="${products == null or #lists.isEmpty(products)}">
            <div class="section-head">
                <h2>Chef’s board</h2>
                <p>Handpicked bestsellers when live data is unavailable.</p>
            </div>
            <div class="products-grid">
                <article class="product-card">
                    <div class="card-top">
                        <span class="pill soft"><i class="fas fa-seedling"></i> Pure veg</span>
                        <span class="rating"><i class="fas fa-star"></i> 4.8</span>
                    </div>
                    <div class="image-wrap">
                        <img src="./Images/paneer/paneer-butter-masala.jpg" alt="Paneer Butter Masala">
                    </div>
                    <div class="product-body">
                        <h3>Paneer Butter Masala</h3>
                        <p class="description">Creamy tomato-based curry with cottage cheese.</p>
                        <div class="price-row">
                            <span class="price">₹290</span>
                            <a href="#" class="buy-btn"><i class="fas fa-shopping-cart"></i> Add</a>
                        </div>
                    </div>
                </article>

                <article class="product-card">
                    <div class="card-top">
                        <span class="pill soft"><i class="fas fa-fire"></i> Spiced</span>
                        <span class="rating"><i class="fas fa-star"></i> 5.0</span>
                    </div>
                    <div class="image-wrap">
                        <img src="./Images/paneer/paneer-do-pyaza.jpg" alt="Paneer Do Pyaza">
                    </div>
                    <div class="product-body">
                        <h3>Paneer Do Pyaza</h3>
                        <p class="description">Paneer tossed with double onions and a smoky finish.</p>
                        <div class="price-row">
                            <span class="price">₹270</span>
                            <a href="#" class="buy-btn"><i class="fas fa-shopping-cart"></i> Add</a>
                        </div>
                    </div>
                </article>

                <article class="product-card">
                    <div class="card-top">
                        <span class="pill soft"><i class="fas fa-layer-group"></i> Flaky</span>
                        <span class="rating"><i class="fas fa-star"></i> 4.5</span>
                    </div>
                    <div class="image-wrap">
                        <img src="./Images/north-india-food/Laccha-Paratha.jpg" alt="Laccha Paratha">
                    </div>
                    <div class="product-body">
                        <h3>Laccha Paratha</h3>
                        <p class="description">Buttery, multi-layered flatbread—perfect for curries.</p>
                        <div class="price-row">
                            <span class="price">₹30</span>
                            <a href="#" class="buy-btn"><i class="fas fa-shopping-cart"></i> Add</a>
                        </div>
                    </div>
                </article>

                <article class="product-card">
                    <div class="card-top">
                        <span class="pill soft"><i class="fas fa-pepper-hot"></i> Hot</span>
                        <span class="rating"><i class="fas fa-star"></i> 4.5</span>
                    </div>
                    <div class="image-wrap">
                        <img src="./Images/north-india-food/Honey-Chilli-Potato.jpg" alt="Chilli Potato">
                    </div>
                    <div class="product-body">
                        <h3>Chilli Potato</h3>
                        <p class="description">Crispy potatoes in a sticky-sweet chilli glaze.</p>
                        <div class="price-row">
                            <span class="price">₹150</span>
                            <a href="#" class="buy-btn"><i class="fas fa-shopping-cart"></i> Add</a>
                        </div>
                    </div>
                </article>

                <article class="product-card">
                    <div class="card-top">
                        <span class="pill soft"><i class="fas fa-heart"></i> Comfort</span>
                        <span class="rating"><i class="fas fa-star"></i> 4.5</span>
                    </div>
                    <div class="image-wrap">
                        <img src="./Images/north-india-food/chola-bhatura.jpg" alt="Chole Bhature">
                    </div>
                    <div class="product-body">
                        <h3>Chole Bhature</h3>
                        <p class="description">Fluffy bhature with spiced chickpea curry.</p>
                        <div class="price-row">
                            <span class="price">₹180</span>
                            <a href="#" class="buy-btn"><i class="fas fa-shopping-cart"></i> Add</a>
                        </div>
                    </div>
                </article>

                <article class="product-card">
                    <div class="card-top">
                        <span class="pill soft"><i class="fas fa-mug-hot"></i> Dessert</span>
                        <span class="rating"><i class="fas fa-star"></i> 4.0</span>
                    </div>
                    <div class="image-wrap">
                        <img src="./Images/north-india-food/Gulab Jamun.jpg" alt="Gulab Jamun">
                    </div>
                    <div class="product-body">
                        <h3>Gulab Jamun</h3>
                        <p class="description">Soft khoya dumplings soaked in rose syrup.</p>
                        <div class="price-row">
                            <span class="price">₹50</span>
                            <a href="#" class="buy-btn"><i class="fas fa-shopping-cart"></i> Add</a>
                        </div>
                    </div>
                </article>

                <article class="product-card">
                    <div class="card-top">
                        <span class="pill soft"><i class="fas fa-bowl-food"></i> Street style</span>
                        <span class="rating"><i class="fas fa-star"></i> 4.5</span>
                    </div>
                    <div class="image-wrap">
                        <img src="./Images/chinese/chowmein.jpg" alt="Veg Chowmein">
                    </div>
                    <div class="product-body">
                        <h3>Veg Chowmein</h3>
                        <p class="description">Wok-tossed noodles with crunchy veggies.</p>
                        <div class="price-row">
                            <span class="price">₹150</span>
                            <a href="#" class="buy-btn"><i class="fas fa-shopping-cart"></i> Add</a>
                        </div>
                    </div>
                </article>

                <article class="product-card">
                    <div class="card-top">
                        <span class="pill soft"><i class="fas fa-leaf"></i> Slow-cooked</span>
                        <span class="rating"><i class="fas fa-star"></i> 4.5</span>
                    </div>
                    <div class="image-wrap">
                        <img src="./Images/vegetable/dal-makhani.jpg" alt="Dal Makhani">
                    </div>
                    <div class="product-body">
                        <h3>Dal Makhani</h3>
                        <p class="description">Slow-simmered black lentils finished with smoked butter.</p>
                        <div class="price-row">
                            <span class="price">₹220</span>
                            <a href="#" class="buy-btn"><i class="fas fa-shopping-cart"></i> Add</a>
                        </div>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <script th:src="@{/JavaScript/home.js}"></script>

    <script th:if="${isLoggedIn == null or !isLoggedIn}">
        document.querySelectorAll('.buy-btn').forEach(function(btn) {
            btn.addEventListener('click', function (event) {
                event.preventDefault();
                alert('Please Login as a User to buy Products');
                window.location.href = '/login';
            });
        });
    </script>
    <script th:if="${isLoggedIn != null and isLoggedIn}">
        document.querySelectorAll('.buy-btn').forEach(function(btn) {
            btn.addEventListener('click', function (event) {
                event.preventDefault();
                window.location.href = '/user/dashboard';
            });
        });
    </script>
</body>

</html>
